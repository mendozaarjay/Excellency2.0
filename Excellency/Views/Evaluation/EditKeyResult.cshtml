@model Excellency.ViewModels.EditKeyResultAreaEvaluation
@{
    ViewData["Title"] = "Key Result Area";
}


<div class="panel panel-headline">
    <div class="panel-heading">
        <h3 class="panel-title"> Key Result Area Evaluation : @Model.Name</h3>
        <p class="panel-subtitle">@Model.Title : <i>@Model.Description - Weight : @Model.Weight</i> </p>
    </div>
    <div class="panel-body">
        @using (Html.BeginForm("SubmitEditKeyResultArea", "Evaluation"))
        {
            @Html.AntiForgeryToken()
            <input type="hidden" name="EmployeeId" value="@Model.EmployeeId" />
            <input type="hidden" name="KeyResultAreaId" value="@Model.KeyResultAreaId" />
            <input type="hidden" name="HeaderId" value="@Model.HeaderId" />
            int count = 0;
            @foreach (var item in Model.EvaluationSuccessIndicators)
            {
            <div class="form-group">
                @Html.HiddenFor(m => m.EvaluationSuccessIndicators[count].RecordId)
                @Html.HiddenFor(m => m.EvaluationSuccessIndicators[count].Id)
                <strong>@item.Title</strong>
                <p>@item.Description <i>Weight - @item.Weight</i></p>
                @Html.DropDownListFor(m => m.EvaluationSuccessIndicators[count].Score, item.RatingTableItems.Select(a => new SelectListItem { Value = a.Id.ToString(), Text = "(" + a.Weight.ToString() + ") " + a.Description }), new { @class = "form-control" })
                @Html.LabelFor(m => m.EvaluationSuccessIndicators[count].Comment)
                @Html.TextAreaFor(m => m.EvaluationSuccessIndicators[count].Comment, new { @class = "form-control" })
            </div>
                count++;
                <hr />
            }

            <div class="form-group">
                <button type="submit" class="btn btn-primary">Submit</button>
            </div>
        }
    </div>
</div>